webpackJsonp([14],{1123:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){(0,r.default)(e),k.default.attachTo(document,e),O.default.attachTo(document),d.default.attachTo(document,e),D.default.attachTo(document,e),f.default.attachTo(document,e),b.default.attachTo(document,e),e.excludeExpandingTweets||u.default.attachTo(t,e);var i=".js-new-items-bar-container";y.default.attachTo(i,e),e.excludeUserActions||R.default.attachTo(t,o({},e,{genericItemSelector:".js-stream-item"})),j.default.attachTo(document),w.default.attachTo(document),m.default.attachTo(document),T.default.attachTo(document)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(1124),r=n(a),l=i(1128),d=n(l),c=i(1129),u=n(c),h=i(1135),f=n(h),p=i(1136),m=n(p),g=i(1137),w=n(g),v=i(1138),T=n(v),S=i(1139),y=n(S),C=i(474),b=n(C),M=i(1141),k=n(M),P=i(1155),O=n(P),I=i(1156),D=n(I),A=i(1157),R=n(A),z=i(1159),j=n(z);e.default=s},1129:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({tweetSelector:".tweet",tweetFormSelector:".tweet-form",conversationModuleSelector:".conversation-module",animatedGifSelector:".animated-gif"})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1130),l=n(r),d=i(1131),c=n(d),u=i(834),h=n(u),f=i(1132),p=n(f),m=i(1134),g=n(m),w=i(477),v=n(w),T=i(922),S=n(T);e.default=(0,a.default)(s,c.default,p.default,g.default,h.default,S.default,v.default,l.default)},1130:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){r.default.mixin(this,[d.default]),this.getPlayableMediaEventData=function(t){var e={},i=t.find("[data-media-id]").attr("data-media-id");if(i)e.playlist_url=i,e.video_uuid=i;else{var n=t.find("[data-card-url]").attr("data-card-url");e.playlist_url=n,e.video_uuid=n}return e.video_type="video",e.card_details=JSON.stringify(e),e},this.logPlayableMediaEvents=function(t,e,i){var n=e.attr("data-tweet-id"),s=void 0;s="animated_gif"===i||"__entity_animated_gif"===i?"gif_player":"vine_player";var a=o({},this.interactionData(e),this.getPlayableMediaEventData(e));this.eventsFired.view[n]||(this.trigger("uiPlayableMediaEvent",o({name:"video_content_view"},a)),this.scribeInteraction({action:"video_view",element:s},a),this.eventsFired.view[n]=!0),this.eventsFired[t][n]||(this.trigger("uiPlayableMediaEvent",o({name:"video_content_"+t},a)),this.scribeInteraction({action:t,element:s},a),this.eventsFired[t][n]=!0)},this.shouldCollectAnalytics=function(t,e){return"animated_gif"===e||t.data("has-vine")},this.onAutoplayStart=function(e){var i=this,n=t(e.target);if(n.length){var s=n.find("[data-card2-name]").attr("data-card2-name");this.shouldCollectAnalytics(n,s)&&(this.autoplayTimeout=setTimeout(function(){return i.logPlayableMediaEvents("view_threshold",n,s)},3e3))}},this.onAutoplayStop=function(){this.autoplayTimeout&&clearTimeout(this.autoplayTimeout)},this.onTweetExpanded=function(e){var i=t(e.target);if(i.length){var n=i.find("[data-card2-name]").attr("data-card2-name");this.shouldCollectAnalytics(i,n)&&this.logPlayableMediaEvents("play_from_tap",i,n)}},this.after("initialize",function(){this.eventsFired={view:{},play_from_tap:{},view_threshold:{}},this.on("uiLOHPMediaPlay",this.onTweetExpanded),this.on("uiAutoplayMedia",this.onAutoplayStart),this.on("uiStopAutoplayingMedia",this.onAutoplayStop)})}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=s;var a=i(121),r=n(a),l=i(138),d=n(l)}).call(e,i(10))},1131:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({missingTweetsLinkSelector:"a.missing-tweets-link",missingTweetsBarSelector:".missing-tweets-bar",focalTweetSelector:".original-tweet",topLevelStreamItemSelector:".stream-item:not(.conversation-tweet-item)",conversationTweetClass:"conversation-tweet",detachedConversationClass:"detached-conversation",expandingConversationClass:"expanding-conversation",selectedSelector:".selected-stream-item",awaitingAncestorsClass:".conversation-awaiting-ancestors"}),this.handleExpandConversationAndLoadMissingTweets=function(t){t.preventDefault();var e=this.streamItemFromEvent(t),i=this.getFocalPoint(e),n=i.data("permalink-path"),s=i.data("conversation-id");n&&this.trigger("uiNavigate",{href:n,conversation_id:s})},this.streamItemFromEvent=function(e){return t(e.target).closest(this.attr.topLevelStreamItemSelector)},this.getFocalPoint=function(t){return t.find(this.attr.focalTweetSelector)},this.getTweetId=function(e){return t(e).find(".tweet").attr("data-tweet-id")},this.notifyConversationMutated=function(e,i){var n=t(e.target),s=n.closest(this.attr.conversationModuleSelector);s.length&&this.trigger(s,"uiConversationModuleUpdated")},this.after("initialize",function(){this.on("click",{missingTweetsLinkSelector:this.handleExpandConversationAndLoadMissingTweets}),this.on("uiShortcutEnter",{missingTweetsBarSelector:this.handleExpandConversationAndLoadMissingTweets}),this.on("uiTweetInserted uiBeforeTweetRemoved",this.notifyConversationMutated)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1132:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.getSize=function(t,e){var i=e.attr("data-width"),n=e.attr("data-height"),s=e.width(),o=n*(s/i);return{h:o,w:s}},this.createMediaElement=function(t,e,i){return new MediaElement(t,{pluginPath:a.default.path,flashName:"flashmediaelement.swf",loop:!0,defaultVideoHeight:e.h,defaultVideoWidth:e.w,pluginHeight:e.h,pluginWidth:e.w,success:i})},this.prepareMediaElement=function(t,e){var i=this,n=function(t){i.setCurrentTime(t,0),t.play()},s=this.createMediaElement(t,e,function(t){t.addEventListener("ended",function(){t&&n(t)},!1),t.addEventListener("timeupdate",function(){if("native"===s.pluginType&&t.duration<=t.currentTime){var e=function i(){n(t),t.removeEventListener("loadeddata",i)};t.addEventListener("loadeddata",e),t.load()}},!1),t.play()});return s},this.getPlayer=function(t){if(t.length){var e=t.find(this.attr.animatedGifSelector);if(e.length)return this.players[t.attr("data-tweet-id")]}return null},this.setCurrentTime=function(t,e){"native"===t.pluginType?t.currentTime=e:t.setCurrentTime(e)},this.autoplayGif=function(e){this.startGif(t(e.target).closest(".tweet"))},this.startGifOnEvent=function(e){this.startGif(t(e.target))},this.startGif=function(t){var e=this;if(t=t.filter(":not(.animated-gif-playing)").has(this.attr.animatedGifSelector),t.length){var i=t.attr("data-tweet-id");if(!this.players[i]){var n=t.find(this.attr.animatedGifSelector),s=n.find("[video-src]");s.attr("src",s.attr("video-src"));var o=n.get(0),a=this.getSize(t,n);this.players[i]=this.prepareMediaElement(o,a),this.players[i].load()}t.addClass("animated-gif-playing"),setTimeout(function(){return e.players[i]&&e.players[i].play&&e.players[i].play()},1)}},this.stopAutoplayingGif=function(e){this.stopGif(t(e.target).closest(".tweet"))},this.stopGifOnEvent=function(e){this.stopGif(t(e.target))},this.stopGif=function(t){var e=t.hasClass("animated-gif-playing")&&this.getPlayer(t);e&&(t.removeClass("animated-gif-playing"),t.find(".me-plugin").remove(),e.pause&&e.pause())},this.pauseGif=function(e){var i=t(e.target),n=i.hasClass("animated-gif-playing")&&this.getPlayer(i);n&&n.pause&&n.pause()},this.seekGif=function(e,i){var n=t(e.target),s=n.hasClass("animated-gif-playing")&&this.getPlayer(n);if(s){var o=i.position*s.duration;isNaN(s.duration)||(this.setCurrentTime(s,Math.min(o,s.duration)),s.pause())}},this.after("initialize",function(){this.players={},this.on("uiAutoplayMedia",this.autoplayGif),this.on("uiStartGif",this.startGifOnEvent),this.on("uiStopAutoplayingMedia",this.stopAutoplayingGif),this.on("uiStopGif",this.stopGifOnEvent),this.on("uiPauseGif",this.pauseGif),this.on("uiSeekGif",this.seekGif)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1133),a=n(o);e.default=s}).call(e,i(10))},1133:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={path:"/flash/1/"}},1134:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){l.default.mixin(this,[c.default]),this.defaultAttrs({snapReelVideoSelector:"video.js-snap-reel",easingAcceleration:.5,FPS:(0,a.default)().chrome?20:30}),this.logInteraction=function(t){var e=t.attr("data-tweet-id");this.eventScribed[e]||(this.scribeInteraction({action:"snap_reel_interaction"},this.interactionData(t)),this.eventScribed[e]=!0)},this.mouseOver=function(e){var i=this;this.video=t(e.target),this.tweet=this.video.parents(this.attr.tweetSelector),this.tweet.hasClass("animated-gif-playing")&&(this.scribeTimeout=setTimeout(function(){return i.logInteraction(i.tweet,i.video)},3e3)),this.start()},this.mouseOut=function(t){clearTimeout(this.scribeTimeout),this.tweet&&this.tweet.hasClass("animated-gif-playing")&&(this.tweet.removeClass("animated-gif-playing"),this.trigger(this.tweet,"uiStartGif")),this.stop(),this.scribeTimeout=void 0,this.tweet=void 0,this.targetPosition=void 0},this.mouseMove=function(t){this.tweet&&this.tweet.hasClass("animated-gif-playing")&&(this.targetPosition=t.pageX-this.video.offset().left)},this.start=function(){this.running=!0,this.tick()},this.stop=function(){this.running=!1},this.tick=function(){var t=this;if(this.running){var e=1e3/this.attr.FPS;setTimeout(function(){requestAnimationFrame(t.tick.bind(t)),t.update()},e)}},this.update=function(){if(this.targetPosition){this.currentPosition+=(this.targetPosition-this.currentPosition)*this.attr.easingAcceleration;var t=this.currentPosition/this.video.width();this.trigger(this.tweet,"uiSeekGif",{position:t})}},this.after("initialize",function(t,e){this.scribeTimeout=void 0,this.eventScribed={},this.currentPosition=0,this.on("mouseover",{snapReelVideoSelector:this.mouseOver}),this.on("mouseout",{snapReelVideoSelector:this.mouseOut}),this.on("mousemove",{snapReelVideoSelector:this.mouseMove})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i(156),a=n(o),r=i(121),l=n(r),d=i(138),c=n(d)}).call(e,i(10))},1135:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.deleteMediaTag=function(t,e){var i=function(t){this.trigger("dataMediaTagRemoveSuccess",t)},n=function(t,i,n){this.trigger("dataMediaTagRemoveFailure",{id:e.id,status:i,errorThrown:n})},s={status_id:e.id};this.post({url:"/i/media/media_tags/delete",data:s,eventData:e,success:i.bind(this),error:n.bind(this)})},this.after("initialize",function(){this.on("uiDidRemoveMediaTag",this.deleteMediaTag)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(244),l=n(r),d=(0,a.default)(s,l.default);e.default=d},1138:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.scribeTweetAction=function(t,e,i){var n=i&&i.scribeContext&&i.scribeContext.component;this.scribe({component:n,element:"moment",action:t})},this.after("initialize",function(){this.on("uiMomentMakerAddTweet",this.scribeTweetAction.bind(this,"add")),this.on("uiMomentMakerRemoveTweet",this.scribeTweetAction.bind(this,"remove")),this.on("dataMomentMakerAddTweetFailure",this.scribeTweetAction.bind(this,"add_failure")),this.scribeOnEvent("uiOpenAddToMomentDialog",{component:"add_to_moment_dialog",action:"open"})})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(142),l=n(r);e.default=(0,a.default)(s,l.default)},1139:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({newItemsBarSelector:".js-new-tweets-bar",containerSelector:".stream-container",newTweetsBarVisibleClass:"new-tweets-bar-visible",scrollTopOnNewItemsClick:!0}),this.updateNewItemsBar=function(e,i){if(e.target.contains(this.node)){var n=t(i.html),s=this.select("newItemsBarSelector");s.length?(s.replaceWith(n),this.trigger("uiNewItemsBarUpdated")):(this.$node.html(n),this.$node.hide(),this.showNewItemsBar(),this.trigger("uiNewItemsBarShown")),this.trigger("uiNewItemsBarVisible")}},this.showNewItemsBar=function(){var e=this.$node.parent(),i=l.default.getCanvasYOffset(e),n=t(window).scrollTop();this.$node.addClass(this.attr.newTweetsBarVisibleClass),n>i?(this.$node.show(),t("html, body").scrollTop(n+this.$node.height())):this.$node.slideDown()},this.hideNewItemsBar=function(){this.trigger("uiNewItemsBarHidden");var t=this.select("newItemsBarSelector");t.remove(),this.$node.removeClass(this.attr.newTweetsBarVisibleClass)},this.handleNewItemsBarClick=function(e,i){var n=t(e.target).closest("[data-live-video-item-json]").attr("data-live-video-item-json");this.attr.scrollTopOnNewItemsClick&&(0,c.default)(0,"fast"),this.trigger("uiInjectNewItems",{fromClick:!0});var s=t(e.target).attr("data-item-count"),o={unreadCount:Number(s)};if(n)try{o.items=[JSON.parse(n)]}catch(e){}this.trigger("uiNewItemsBarClick",o)},this.after("initialize",function(){this.on(document,"uiUpdateNewItemsBar",this.updateNewItemsBar),this.on(document,"uiHideNewItemsBar",this.hideNewItemsBar),this.on("click",{newItemsBarSelector:this.handleNewItemsBarClick})})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(178),l=n(r),d=i(1140),c=n(d);e.default=(0,a.default)(s)}).call(e,i(10))},1155:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t){this.defaultAttrs({itemType:"tweet"}),this.scribeActivityCount=function(t,e,i){var n={component:this.attr.itemType,element:t,action:"click"};this.scribe(n,this.interactionData(e))},this.after("initialize",function(){this.on("uiRequestReplyActivity",this.scribeActivityCount.bind(this,"reply_count")),this.on("uiRequestRetweetedActivity",this.scribeActivityCount.bind(this,"retweet_count")),this.on("uiRequestFavoritedActivity",this.scribeActivityCount.bind(this,"favorite_count"))})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(138),l=n(r),d=i(141),c=n(d),u=(0,a.default)(s,l.default,c.default);e.default=u},1156:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.getTweetTranslation=function(t,e){var i=function(e){e&&e.message&&this.trigger("uiShowMessage",{message:e.message}),this.trigger(t.target,"dataTweetTranslationSuccess",e)},n=function(i,n,s){this.trigger(t.target,"dataTweetTranslationError",{id:e.id,status:n,errorThrown:s})},s={id:e.tweetId,dest:e.dest};this.get({url:"/i/translations/show.json",data:s,eventData:e,success:i.bind(this),error:n.bind(this)})},this.submitTweetTranslation=function(t,e){var i=function(e){this.trigger(t.target,"dataTweetTranslationSuggestionSuccess",e)},n=function(i,n,s){this.trigger(t.target,"dataTweetTranslationSuggestionError",{id:e.id,status:n,errorThrown:s})};this.post({url:"/i/translations/suggest.json",data:e,eventData:e,success:i.bind(this),error:n.bind(this)})},this.after("initialize",function(){this.on("uiNeedsTweetTranslation",this.getTweetTranslation),this.on("uiSuggestTweetTranslation",this.submitTweetTranslation)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(244),l=n(r),d=(0,a.default)(s,l.default);e.default=d},1157:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1158),l=n(r),d=i(886),c=n(d);e.default=(0,a.default)(s,c.default,l.default)},1158:function(t,e,i){(function(t){"use strict";function i(){this.getItemPosition=function(e){return t(this.attr.genericInteractionItemSelector).index(e.closest(this.attr.genericInteractionItemSelector))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1177:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({adaptivePhotoContainer:".js-adaptive-photo",adaptiveMediaContainer:".AdaptiveMedia"}),this.getPermalinkPath=function(t){return t.closest(this.attr.streamItemSelector).find(this.attr.permalinkSelector).attr("href")},this.openAdaptiveMediaGallery=function(e,i){e.preventDefault(),e.stopPropagation();var n=t(e.target).closest(this.attr.adaptivePhotoContainer);this.trigger(e.target,"uiOpenGallery",{timelineSelector:this.attr.adaptiveMediaContainer,inOverlay:this.attr.inOverlay});var s=n.closest("[data-impression-id]");s.length&&(s.attr("data-embedded-media-logged",!0),this.trigger("uiEmbeddedMedia",{impressionId:s.data("impression-id"),disclosureType:s.data("disclosure-type")})),i&&i.skipClickScribe||this.trigger("uiMediaThumbnailClick",{url:n.attr("data-image-url"),mediaType:"photo"})},this.openSelectedTweetAdaptiveMediaGallery=function(e){this.trigger(t(e.target).find(this.attr.adaptivePhotoContainer),"uiKeyboardOpenAdaptiveGallery",{skipClickScribe:!0})},this.after("initialize",function(){this.on(document,"uiOpenSelectedPhoto",this.openSelectedTweetAdaptiveMediaGallery),this.on("click uiKeyboardOpenAdaptiveGallery",{adaptivePhotoContainer:this.openAdaptiveMediaGallery})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1183:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t){var e=a.default.fromQuery(location).multiplier,i=window.DEBUG.multiplier||e||1;return t*i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i(252),a=n(o)},1285:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({tweetSelector:".tweet",tweetActionSelector:".ProfileTweet-action",favoriteCountSelector:".ProfileTweet-action--favorite .ProfileTweet-actionCount",retweetCountSelector:".ProfileTweet-action--retweet .ProfileTweet-actionCount",replyCountSelector:".ProfileTweet-action--reply .ProfileTweet-actionCount",actionCountForPresentationSelector:".ProfileTweet-actionCountForPresentation",actionCountForAriaSelector:".ProfileTweet-actionCountForAria",zeroCountClass:"ProfileTweet-actionCount--isZero"}),this.updateTweetStats=function(t,e){var i=this;e.stats&&e.stats.forEach(function(t){var e=i.findTweetOrRetweet(t.status_id),n=e.find(i.statElementSelectorFor(t.name));i.updateAria(n,t.count,t.title),i.updatePresentation(n,t.count,t.compact_count)})},this.initializeTweetStats=function(e,i){var n=this,s=this.findUninitializedTweetOrRetweet();s.each(function(e,i){return n.renderTweetStats(t(i))})},this.renderTweetStats=function(t){var e=this;t.attr("data-tweet-stat-initialized","true"),["favorite","retweet","reply"].forEach(function(i){var n=i,s=t.find(e.statElementSelectorFor(n)),o=s&&s.attr("data-tweet-stat-count");if(void 0!==o){var a=c.default.compactOrCommaize(o,l.default.language);e.updatePresentation(s,o,a)}})},this.updatePresentation=function(t,e,i){var n=t.find(this.attr.actionCountForPresentationSelector);t.attr("data-tweet-stat-count",Math.max(e,0)),e<=0?(t.addClass(this.attr.zeroCountClass),n.empty()):(t.removeClass(this.attr.zeroCountClass),n.text(i))},this.updateAria=function(t,e,i){var n=t.find(this.attr.actionCountForAriaSelector);n.text(i),e<=0?(t.attr("aria-hidden","true"),n.removeAttr("data-aria-label-part")):(t.removeAttr("aria-hidden"),n.attr("data-aria-label-part","0"))},this.findTweetOrRetweet=function(t){var e=this.select("tweetSelector").filter("[data-tweet-id="+t+"]");return e.length||(e=this.select("tweetSelector").filter("[data-retweet-id="+t+"]")),e},this.findUninitializedTweetOrRetweet=function(){return this.select("tweetSelector").filter(":not([data-tweet-stat-initialized=true])")},this.statElementSelectorFor=function(t){var e={favorite:this.attr.favoriteCountSelector,retweet:this.attr.retweetCountSelector,reply:this.attr.replyCountSelector};return e[t]},this.after("initialize",function(){this.on("uiSwiftLoaded uiPageChanged uiNeedUpdateInjectedTweetStats",this.initializeTweetStats),this.on("dataGotTweetStats",this.updateTweetStats)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1154),l=n(r),d=i(1143),c=n(d),u=i(1286),h=n(u);e.default=(0,a.default)(s,h.default)}).call(e,i(10))},1286:function(t,e){"use strict";function i(){this.defaultAttrs({retweetStatSelector:".js-stat-retweets a",favoriteStatSelector:".js-stat-favorites a",tweetStatCountSelector:"data-tweet-stat-count",displayCountSelector:"strong"}),this.updateSocialProofStats=function(t,e){var i=this;t.target===document&&e.stats&&e.stats.forEach(function(t){var e=i.findTweetOrRetweet(t.status_id),n=e.find(i.socialProofStatElementSelectorFor(t.name));i.updateSocialProofStat(n,t)})},this.socialProofStatElementSelectorFor=function(t){var e={retweet:this.attr.retweetStatSelector,favorite:this.attr.favoriteStatSelector};return e[t]},this.updateSocialProofStat=function(t,e){t.attr(this.attr.tweetStatCountSelector,e.count),t.find(this.attr.displayCountSelector).text(e.commaized_count)},this.after("initialize",function(){this.on("dataGotTweetStats",this.updateSocialProofStats)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1292:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.viewportHelpers=h.default,this.defaultAttrs({tweetSelector:".tweet",cursorSelector:".ThreadedConversation-showMoreThreads",itemType:"tweet",checkVisibilityInterval:500}),this.checkTweetVisibility=function(){var e=this,i=this.allVisibleTweets(),n=i.map(function(t){return this.interactionDataWithCard(t)},this),s=this.select("cursorSelector").filter(function(i,n){h.default.isWithinBounds(e.$window,t(n))}).toArray().map(function(e){return{type:t(e).data("cursor-type-name"),cursor:t(e).find("[data-cursor]").data("cursor")}});this.trigger("uiTweetsVisible",{tweetData:n,cursorData:s})},this.allVisibleTweets=function(){var t=this.select("tweetSelector"),e=this.findVisibleTweet(t);if(e===-1)return[];for(var i=[],n=e;t[n]&&h.default.isWithinBounds(this.$window,t.eq(n));)i.push(t[n]),n--;for(i.reverse(),n=e+1;t[n]&&h.default.isWithinBounds(this.$window,t.eq(n));)i.push(t[n]),n++;return i},this.findVisibleTweet=function(t){var e=h.default.getContainerRect(this.$window);return this.findVisibleTweetRecursive(t.length,0,t,0,e)},this.findVisibleTweetRecursive=function(t,e,i,n,s){var o=Math.floor((t-e)/2+e);return o===e||n>100?-1:h.default.isAboveViewport(this.$window,i.eq(o),0,s)?this.findVisibleTweetRecursive(t,o,i,n+1,s):h.default.isBelowViewport(this.$window,i.eq(o),0,s)?this.findVisibleTweetRecursive(o,e,i,n+1,s):o},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.$window=t(window),this.pollingInterval=c.default.setIntervalEvent("uiCheckTweetVisibility",this.attr.checkVisibilityInterval),this.on(document,"uiCheckTweetVisibility",this.checkTweetVisibility)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(138),l=n(r),d=i(110),c=n(d),u=i(177),h=n(u);e.default=(0,a.default)(s,l.default)}).call(e,i(10))},1293:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({scribeInterval:6e4,page:void 0}),this.getTime=function(){return Date.now()},this.handleTweetsVisible=function(t,e){this.recordVisibleTweets(e.tweetData),e.cursorData&&this.recordVisibleCursors(e.cursorData)},this.recordVisibleCursors=function(t){var e=this,i={};t.forEach(function(t){e.visibleCursors[t.cursor]&&(e.previouslyVisibleCursors[t.cursor]=t.type),i[t.cursor]=t.type}),this.visibleCursors=i},this.recordVisibleTweets=function(t){var e={},i=this.getTime();t.forEach(function(t){this.visibleTweets[t.tweetId]?e[t.tweetId]=o({},this.visibleTweets[t.tweetId],{visibility_end:i}):e[t.tweetId]=o({},t,{visibility_start:i,visibility_end:i})},this),this.visibleTweetKeys().forEach(function(t){var i=this.visibleTweets[t],n=!e[t],s=i.visibility_start!==i.visibility_end;n&&s&&this.previouslyVisibleTweets.push(this.visibleTweets[t])},this),this.visibleTweets=e},this.flushVisibleTweets=function(t,e){var i=this.getTime();this.visibleTweetKeys().forEach(function(t){this.visibleTweets[t].visibility_end=i},this),this.recordVisibleTweets([]),this.scribeVisibilityResults()},this.onScribeVisibilityResults=function(t,e){e.page===this.attr.page&&(this.scribeVisibilityResults(),this.scribeCursorVisibilityResults())},this.scribeCursorVisibilityResults=function(){var t=this;if(Object.keys(this.previouslyVisibleCursors).length){var e={component:"tweet",element:"cursor",action:"impression"};Object.keys(this.previouslyVisibleCursors).forEach(function(i){t.previouslyScribedCursors[i]||(t.scribe(e,{event_info:t.previouslyVisibleCursors[i]}),t.previouslyScribedCursors[i]=!0)}),this.previouslyVisibleCursors={}}},this.scribeVisibilityResults=function(){if(this.previouslyVisibleTweets.length){var t={component:"stream",element:"linger",action:"results"},e={items:this.previouslyVisibleTweets.map(function(t){return this.interactionItem(t)},this)};this.previouslyVisibleTweets=[],this.scribe(t,e)}},this.visibleTweetKeys=function(){return Object.keys(this.visibleTweets).filter(function(t){return this.visibleTweets.propertyIsEnumerable(t)},this)},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.visibleTweets={},this.previouslyVisibleTweets=[],this.visibleCursors={},this.previouslyVisibleCursors={},this.previouslyScribedCursors={},this.pollingInterval=f.default.setIntervalEvent("uiScribeVisibilityResults",this.attr.scribeInterval,{page:this.attr.page}),this.on(document,"uiScribeVisibilityResults",this.onScribeVisibilityResults),this.on(document,"uiBeforePageChanged uiTeardown",this.flushVisibleTweets),this.on("uiTweetsVisible",this.handleTweetsVisible)})}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(111),r=n(a),l=i(142),d=n(l),c=i(141),u=n(c),h=i(110),f=n(h);e.default=(0,r.default)(s,d.default,u.default)},1303:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function(t){function e(e){return s({},t,{eventData:{scribeContext:{component:e}},itemType:"tweet",lastItemSelector:".tweet:last",inOverlay:t.inOverlay,genericItemSelector:".js-stream-tweet",useDeduping:!0})}var i=".PermalinkOverlay",n=t.inOverlay?i:"#page-container.wrapper-permalink",o=n+" div.permalink-tweet-container",r=".suggested-tweet-stream-container",d="div.permalink-tweet",u=".permalink-replies .stream-container",f="tweet",m=".original-tweet";(0,Q.default)(t),(0,M.default)(t),(0,rt.default)(t),(0,ot.default)(t),nt.default.attachTo(document),(0,I.default)(n,s({},t,{generalTweetSelector:d,marginBreaking:!1})),H.default.mixin(F.default).attachTo(i,{eventData:t.eventData,fromPermalinkOverlay:!0}),U.default.attachTo(i,{page:"permalink_overlay"}),a.default.attachTo(document),X.default.attachTo(document);var w=s({},t,{statsName:"swift_permalink_timeline"});t.inOverlay?(w=s({},w,{infiniteScrollNode:i,contentSelector:".PermalinkOverlay-body .permalink-container"}),l.default.attachTo("div.in-reply-to",{windowSelector:i})):l.default.attachTo("div.in-reply-to"),(0,P.default)(w);var T=v.default.mixin(wt.default),y=S.default.mixin(wt.default);h.default.attachTo(".permalink"),B.default.attachTo(o,e(f)),B.default.attachTo(u,e(f)),g.default.attachTo(".permalink",e(f)),z.default.attachTo(document),A.default.mixin.apply(this,[V.default,L.default]).attachTo(o,e(f)),et.default.attachTo(o,e(f)),y.attachTo(".in-reply-to",e("conversation")),A.default.mixin(V.default).attachTo(".in-reply-to",e("conversation")),et.default.attachTo(".in-reply-to",e("conversation")),T.attachTo(".replies-to",e("replies")),A.default.mixin(V.default).attachTo(".replies-to",e("replies")),et.default.attachTo(".replies-to",e("replies")),(0,I.default)(r,s({},e("conversation-suggestions"),{generalTweetSelector:m})),C.default.attachTo(r,e("conversation-suggestions"),{tweetContainerSelector:m,tweetWithReplyDialogSelector:m}),A.default.mixin.apply(this,[x.default]).attachTo(r,e("conversation-suggestions")),et.default.attachTo(r,e("conversation-suggestions")),Ct.default.attachTo(n,e("conversation-suggestions")),dt.default.attachTo(".replies-to",t),ut.default.attachTo(document),ft.default.attachTo(document),t.loggedIn?(0,Z.default)(s({},t,{show_context:!1})):p.default.attachTo("body"),mt.default.attachTo(".PermalinkProfile-dismiss, .PermalinkProfile-overlay",{eventData:{scribeContext:{component:"dialog"}}});var b=window;t.inOverlay&&(c.default.attachTo(i,{watchDocumentScroll:!1}),yt.default.attachTo(i,{watchDocumentScroll:!1}),b=i),Tt.default.attachTo(b,{containerSelector:".PermalinkOverlay-body",unloadedCardsFilter:'#ancestors [data-has-autoplayable-media="true"], .permalink-replies [data-has-autoplayable-media="true"], .cards-forward .js-macaw-cards-iframe-container, .permalink-tweet .js-macaw-cards-iframe-container'})};var o=i(1304),a=n(o),r=i(1305),l=n(r),d=i(176),c=n(d),u=i(1306),h=n(u),f=i(1307),p=n(f),m=i(1308),g=n(m),w=i(1309),v=n(w),T=i(1310),S=n(T),y=i(1312),C=n(y),b=i(199),M=n(b),k=i(1120),P=n(k),O=i(1123),I=n(O),D=i(1046),A=n(D),R=i(1285),z=n(R),j=i(1314),L=n(j),$=i(919),V=n($),E=i(1315),x=n(E),N=i(1316),B=n(N),G=i(1317),F=n(G),q=i(1292),H=n(q),W=i(1293),U=n(W),K=i(161),Q=n(K),J=i(1787),X=n(J),Y=i(1375),Z=n(Y),tt=i(947),et=n(tt),it=i(951),nt=n(it),st=i(1788),ot=n(st),at=i(1264),rt=n(at),lt=i(1791),dt=n(lt),ct=i(1792),ut=n(ct),ht=i(1793),ft=n(ht),pt=i(957),mt=n(pt),gt=i(1794),wt=n(gt),vt=i(833),Tt=n(vt),St=i(485),yt=n(St),_t=i(1435),Ct=n(_t)},1304:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({permalinkPageTweetSelector:".PermalinkOverlay .permalink-tweet",ownTweetSelector:".my-tweet"}),this.triggerBlock=function(){this.triggerBlockActionOnNode(this.select("permalinkPageTweetSelector"),"uiOpenBlockUserDialog")},this.triggerMute=function(){this.triggerBlockActionOnNode(this.select("permalinkPageTweetSelector"),"uiDidMuteUser")},this.after("initialize",function(){this.on(document,"uiShortcutBlock",this.triggerBlock),this.on(document,"uiShortcutMuteUser",this.triggerMute)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1165),l=n(r),d=i(1167),c=n(d);e.default=(0,a.default)(s,l.default,c.default)},1305:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({ancestorAdjustmentClass:"multiple-ancestors-adjustment",hiddenAncestorClass:"is-hiddenAncestor",doBottomPaddingAdjustment:!0,focalTweetTopPadding:125,permalinkOverlayDistanceFromTopOfPage:64,ancestorTweetsSelector:".ancestor",threadedConversationTweetSelector:".ThreadedConversation-tweet",focalTweetSelector:".permalink-tweet-container",pageContainerSelector:"#page-container",windowSelector:window,documentSelector:document}),this.showHiddenAncestors=function(){var e=this.select("ancestorTweetsSelector"),i=t(this.attr.windowSelector);if(e.length){t("body").removeClass(this.attr.ancestorAdjustmentClass),this.select("threadedConversationTweetSelector").removeClass(this.attr.hiddenAncestorClass);var n=this.getTopOffset(t(this.attr.focalTweetSelector));if(this.attr.doBottomPaddingAdjustment){var s=n+this.attr.focalTweetTopPadding-t(this.attr.documentSelector).height()+i.height();t(this.attr.pageContainerSelector).css("padding-bottom",s)}i.scrollTop(n-this.attr.focalTweetTopPadding)}},this.getTopOffset=function(t){return this.attr.windowSelector===window?l.default.getCanvasYOffset(t)-1:t.position().top+this.attr.permalinkOverlayDistanceFromTopOfPage;
},this.after("initialize",function(){this.on(document,"uiOverlayPageChanged uiPageChanged uiSwiftLoaded",this.showHiddenAncestors)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(178),l=n(r);e.default=(0,a.default)(s)}).call(e,i(10))},1306:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({repliesSelector:".replies-to .stream-items .tweet",hasRepliesClass:"has-replies"}),this.updateRepliesState=function(){var t=this.select("repliesSelector");t.length?this.$node.addClass(this.attr.hasRepliesClass):this.$node.removeClass(this.attr.hasRepliesClass)},this.after("initialize",function(){this.on(document,"uiTweetInserted uiTweetRemoved",this.updateRepliesState)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o);e.default=(0,a.default)(s)},1307:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({dialogSelector:"#sms-codes-dialog",triggerSelector:".sms-codes-link"}),this.after("initialize",function(){this.$dialog=this.select("dialogSelector")})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(163),l=n(r),d=(0,a.default)(s,l.default);e.default=d},1308:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({permalinkTweetSelector:".permalink-tweet",permalinkTweetForm:".permalink-tweet-container + .inline-reply-tweetbox .tweet-form"}),this.homePath="/",this.expandTweetBox=function(e){var i=t(e.target);i.is(this.attr.permalinkTweetSelector)&&this.trigger(this.select("permalinkTweetForm"),"uiComposerResetAndFocus")},this.redirectHome=function(t,e){var i=this.$node.find('[data-tweet-id="'+e.sourceEventData.id+'"]');i.is(this.attr.permalinkTweetSelector)&&window.location.replace(this.homePath)},this.after("initialize",function(){this.attr.loggedIn&&(this.on("uiReplyToTweet",this.expandTweetBox),this.on(document,"dataDidDeleteTweet",this.redirectHome))})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=(0,a.default)(s);e.default=r}).call(e,i(10))},1309:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({itemType:"tweet",tweetSelector:".tweet",hiddenRepliesContainerSelector:".hidden-replies-container",descendantTweetSelector:".tweet.descendant",threadedConversationClass:"ThreadedConversation--loneTweet ThreadedConversation--ownReply"}),this.injectThreadedReply=function(t){t.wrap("<div class='"+this.attr.threadedConversationClass+"'></div>"),this.$repliesContainer.prepend(t.parent())},this.injectOwnReply=function(e,i){if(this.attr.tweetId===i.in_reply_to_status_id){var n=t(i.tweet_html);this.attr.isThreaded?this.injectThreadedReply(n):(this.reachedTheEnd()?this.$repliesContainer:this.$hiddenRepliesContainer).append(n),this.$node.removeClass("hidden"),this.trigger("uiTweetInserted",i),this.trigger(n.find(this.attr.tweetSelector),"uiHasInjectedTimelineItem")}},this.restoreHiddenReplies=function(e,i){var n=this;this.$hiddenRepliesContainer.children().each(function(e,i){var s=t(i),o=s.find(n.attr.tweetSelector).attr("data-tweet-id");n.$repliesContainer.children().each(function(e,i){var a=t(i),r=a.find(n.attr.tweetSelector).attr("data-tweet-id"),l=p.default.compare(o,r);return 0===l?(s.remove(),!1):l<0?(s.insertBefore(a),!1):void 0})}),this.reachedTheEnd()&&(this.$repliesContainer.append(this.$hiddenRepliesContainer.html()),this.$hiddenRepliesContainer.html(""))},this.reachedTheEnd=function(){return!this.select("timelineEndSelector").hasClass("has-more-items")},this.hideReplies=function(t,e){this.select("descendantTweetSelector").length||this.$node.addClass("hidden")},this.after("initialize",function(){this.$repliesContainer=this.select("itemsSelector"),this.$hiddenRepliesContainer=this.select("hiddenRepliesContainerSelector"),this.on("uiTweetRemoved",this.hideReplies),this.on(document,"dataTweetSuccess",this.injectOwnReply),this.on("uiHasInjectedOldTimelineItems",this.restoreHiddenReplies)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1163),a=n(o),r=i(1170),l=n(r),d=i(1179),c=n(d),u=i(883),h=n(u),f=i(357),p=n(f),m=i(1177),g=n(m);e.default=a.default.mixin(s,l.default,c.default,h.default,g.default)}).call(e,i(10))},1310:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({itemType:"tweet",tweetSelector:".tweet",ancestorTweetSelector:".tweet.ancestor"}),this.removeAncestors=function(){this.select("ancestorTweetSelector").length||this.$node.remove()},this.after("initialize",function(){this.on("uiTweetRemoved",this.removeAncestors)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1163),a=n(o),r=i(1311),l=n(r),d=i(1179),c=n(d),u=i(883),h=n(u),f=i(1177),p=n(f);e.default=a.default.mixin(s,l.default,c.default,h.default,p.default)},1311:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({endOfStreamSelector:".stream-footer",errorMessageSelector:".stream-fail-container",tryAgainSelector:".try-again-after-whale"}),this.getNewItems=function(t){t&&t.stopPropagation(),this.shouldGetNewItems()&&this.trigger("uiWantsMoreTimelineItems",this.getNewItemsData())},this.notifyNewItems=function(t,e){this.injectNewItems(t,e)},this.injectNewItems=function(t){if(this.resetStateVariables(t),t.items_html.trim()){var e=this.$document.height();this.injectItems("prepend",t.items_html,"uiHasInjectedNewTimelineItems"),this.$window.scrollTop(this.$document.height()-e),t.has_more_items||this.select("endOfStreamSelector").remove()}},this.notifyNewItemsError=function(t){},this.after("initialize",function(){var e=this.attr.inOverlay?".PermalinkOverlay":window;this.on(e,"uiNearTheTop",this.getNewItems),this.$document=t(document),this.$window=t(window),this.on("click",{tryAgainSelector:this.tryAgainAfterWhale})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1312:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({itemType:"tweet",permalinkPromotedTweetSelector:".suggested-tweet-stream-container .tweet",tweetSelector:".tweet",suggestedContainerSelector:".suggested-tweet-stream-container",suggestedItemsSelector:".suggested-tweet-stream-items"}),this.injectConversationSuggestions=function(e,i){if(i.suggested_item_html&&i.suggested_item_html.length>0){var n=t(this.attr.suggestedContainerSelector),s=n.find(this.attr.suggestedItemsSelector),o=i.suggested_item_html.trim();s.children()&&0===s.children().length&&o.length>0&&(s.append(t(o)),n.removeClass("u-hidden"),this.trigger("uiHasInjectedNewTimeline"))}else i.descendants&&this.trigger(e.target,"dataGotMoreTimelineItems",i.descendants)},this.after("initialize",function(){this.on(document,"dataGotMoreTimelineItems",this.injectConversationSuggestions),this.on(document,"uiOverlayNavigate",this.teardown)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1163),a=n(o),r=i(883),l=n(r),d=i(886),c=n(d),u=i(1313),h=n(u),f=a.default.mixin(s,l.default,c.default,h.default);e.default=f}).call(e,i(10))},1313:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=a.default,this.promotedTweetDismissed=function(t,e){e.impressionId&&this.removeFromPromotedTweetStoreCookie(e)},this.removePromotedTweetsFromBlockedUser=function(e,i){var n=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),s=this;t.each(n,function(e,i){var n=t(i).attr("data-tweet-id");n&&s.removeFromPromotedTweetStoreCookie({id:n})})},this.removeFromPromotedTweetStoreCookie=function(e){var i=void 0;try{i=JSON.parse((0,a.default)(this.attr.promotedTweetStoreCookieName))}catch(n){i=[]}t.isArray(i)||(i=[i]),i=i.filter(function(t){return t&&t.tweet_id&&t.tweet_id!==e.id}),i=0===i.length?null:JSON.stringify(i),(0,a.default)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(154),a=n(o);e.default=s}).call(e,i(10))},1314:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({permalinkTweetSelector:".permalink-tweet",ownTweetSelector:".my-tweet",permalinkOverlayDialogSelector:".PermalinkOverlay",permalinkOverlaySelector:".PermalinkOverlay .permalink-container",permalinkTweetFormSelector:".inline-reply-tweetbox .tweet-form"}),this.getPermalinkTweet=function(t,e,i){var n=this.select("permalinkTweetSelector"),s=!!n.length;return s&&(i.$tweet=n),s},this.shouldHandleTweetAction=function(){return this.attr.inOverlay||!t(this.attr.permalinkOverlaySelector).length},this.initInlineReplyComposer=function(t,e,i){var n=this.$node.closest(this.attr.permalinkOverlaySelector);n.find(this.attr.permalinkTweetFormSelector).trigger("uiInitTweetbox",{condensable:!0,preventTweetingDefaultText:!1,impressionId:this.attr.impressionId,videoSupport:!0,tweetBoxDialogSelector:this.attr.permalinkOverlayDialogSelector,environment:this.attr.environment,eventData:{scribeContext:{component:"inline_reply"}},overrides:i.tweetData})},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.composeHandler(this.getPermalinkTweet,e,this.initInlineReplyComposer).call(this),this.on(document,"uiShortcutFavorite",this.composeHandler(this.shouldHandleTweetAction,this.getPermalinkTweet,t,this.toggleFavorite)),this.on(document,"uiShortcutRetweet",this.composeHandler(this.shouldHandleTweetAction,this.getPermalinkTweet,t,this.toggleRetweet)),this.on(document,"uiShortcutReply",this.composeHandler(this.shouldHandleTweetAction,this.getPermalinkTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1315:function(t,e){"use strict";function i(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,t,this.triggerTweetAction("uiDismissTweet"))})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1316:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(111),o=n(s),a=i(886),r=n(a),l=i(1177),d=n(l),c=i(883),u=n(c),h=i(1178),f=n(h);e.default=(0,o.default)(r.default,d.default,u.default,f.default)},1317:function(t,e){"use strict";function i(){this.defaultAttrs({overlaySelector:".PermalinkOverlay .tweet"}),this.overlayOpen=function(){this.attr.tweetSelector=this.attr.overlaySelector},this.overlayClosed=function(){this.attr.tweetSelector=this.attr.mainSelector},this.after("initialize",function(){this.on(document,"uiOverlayOpen",this.overlayOpen),this.on(document,"uiOverlayClosed",this.overlayClosed),this.attr.mainSelector=this.attr.tweetSelector})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1375:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t){h.default.attachTo(document),a.default.attachTo(document,{src:t.src,trendsCacheKey:t.trendsCacheKey,trendsModuleEndpoint:t.trendsEndpoint,show_context:t.show_context,profileUserId:t.profile_id,query:t.query}),p.default.attachTo(".module.trends",{loggedIn:t.loggedIn,displaySource:t.src,eventData:{scribeContext:{component:"trends"}}}),l.default.attachTo(document),c.default.attachTo(document),g.default.attachTo("#trends_dialog",{typeaheadData:t.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i(1376),a=n(o),r=i(1377),l=n(r),d=i(1378),c=n(d),u=i(1379),h=n(u),f=i(1380),p=n(f),m=i(1381),g=n(m)},1376:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({src:"module",$backoffNode:t(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(t){var e=t.woeid,i=t.source,n=function(t){t.source=i,this.trigger("dataTrendsRefreshed",t)};this.get({url:this.attr.trendsModuleEndpoint,eventData:t,data:{k:this.currentCacheKey,woeid:e,pc:!0,personalized:t.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:n.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(t,e){var i={woeid:t.woeid,personalized:t.personalized,pc:!0},n=function(t){this.trigger("dataGotTrendsDialog",t),this.currentWoeid&&this.currentWoeid!==t.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=t.woeid,t.trends_cache_key&&(this.currentCacheKey=t.trends_cache_key,this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)},s=e?this.post:this.get;s.call(this,{url:"/trends/dialog",eventData:t,data:i,success:n.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(t,e){this.makeTrendsDialogRequest(e,!0)},this.refreshTrends=function(t,e){e=e||{},this.makeTrendsRequest(e)},this.getTrendsDialog=function(t,e){e=e||{},this.makeTrendsDialogRequest(e)},this.updateTrendsCacheKey=function(t,e){this.currentCacheKey=e.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=(0,l.default)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(959),l=n(r),d=i(244),c=n(d);e.default=(0,a.default)(s,c.default)}).call(e,i(10))},1377:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.getTrendsLocationDialog=function(t,e){var i=function(t){this.trigger("dataGotTrendsLocationDialog",t),t.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:t.trendLocations})};this.get({url:"/trends/location_dialog",eventData:e,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(t,e){var i=e.location||{},n={woeid:i.woeid,personalized:e.personalized,pc:!0},s=function(t){this.trigger("dataChangedTrendLocation",{personalized:t.personalized,location:i}),t.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:t.trends_cache_key}),this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};this.post({url:"/trends/dialog",eventData:e,data:n,success:s.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(244),l=n(r);e.default=(0,a.default)(s,l.default)},1378:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var t=(0,l.default)({withArray:!0,withMaxElements:!0});this.storage=new t(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(t,e){var i=e.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(t){var e=this.storage.getArray(this.attr.storageKey);return e.some(function(e){return e.woeid===t})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(247),l=n(r),d=i(244),c=n(d);e.default=(0,a.default)(s,c.default)},1379:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.scribeTrendClick=function(t,e){this.scribe("search",e)},this.prepareScribeData=function(t){var e=t.initial?"initial":"newer",i={referring_event:e},n=!1;return i.items=t.items.map(function(t,e){var i={name:t.name,item_type:c.default.trend,item_query:t.name,position:e,token:t.token,id:t.id};return t.promotedTrendId&&(i.promoted_id=t.promotedTrendId,n=!0),i}),n&&(i.promoted=n),"clock"===t.source&&(i.event_initiator=h.default.clientSideApp),i},this.scribeTrendsResults=function(t,e){var i=this.prepareScribeData(e),n={element:i.referring_event,action:e.items&&e.items.length?"results":"no_results"};this.scribe(n,e,i),e.initial&&this.scribeTrendsImpression(e)},this.scribeTrendsImpression=function(t){this.scribe("impression",t)},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(142),l=n(r),d=i(144),c=n(d),u=i(1166),h=n(u);e.default=(0,a.default)(s,l.default)},1380:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(t){this.trigger("uiShowTrendsLocationDialog"),t.preventDefault()},this.updateModuleContent=function(t,e){if(e.module_html){var i=this.$node.hasClass("hidden"),n=e.source;this.select("trendsInnerSelector").html(e.module_html),this.currentWoeid=e.woeid,this.$node.removeClass("hidden");var s=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:s,initial:i,source:n,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(e,i){var n=t(i.el).closest(this.attr.trendItemSelector),s=this.getTrendData(n)[0],o=n.index(),a={name:s.name,item_type:l.default.trend,item_query:s.name,position:o,token:s.token,id:s.id},r={position:o,query:s.name,url:n.find("a").attr("href"),woeid:this.currentWoeid};s.promotedTrendId&&(a.promoted_id=s.promotedTrendId,r.promoted=!0),r.items=[a],this.trigger("uiTrendSelected",{isPromoted:!!s.promotedTrendId,promotedTrendId:s.promotedTrendId,scribeContext:{element:"trend"},scribeData:r})},this.getTrendData=function(e){return e.map(function(){var e=t(this);return{name:e.attr("data-trend-name"),promotedTrendId:e.data("promoted-trend-id"),trendingEvent:e.hasClass("event-trend"),token:e.attr("data-trend-token"),id:e.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(144),l=n(r),d=i(883),c=n(d);e.default=(0,a.default)(s,c.default)}).call(e,i(10))},1381:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(t,e){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(t,e){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(t,e){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(t,e){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(e.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(e,i){var n=t(e.target),s=!!n.data("personalized");s?this.setPersonalizedTrends():this.changeLocationInfo({name:n.data("name"),woeid:n.data("woeid")}),this.close()},this.reset=function(t,e){this.showQuickSelectContainer(),this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(t,e){this.select("contentSelector").html(e.dialog_html),this.setLocationInfo(t,e),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.initializeComponents=function(t,e){p.default.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),h.default.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),c.default.attachTo(this.attr.dropdownSelector),g.default.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),v.default.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.showNonpersonalizedView,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(163),l=n(r),d=i(1382),c=n(d),u=i(1384),h=n(u),f=i(1385),p=n(f),m=i(1386),g=n(m),w=i(1388),v=n(w),T=i(1383),S=n(T);e.default=(0,a.default)(s,l.default,S.default)}).call(e,i(10))},1382:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var e=this;this.citiesByRegionWoeid={};var i=this.$cities.find("option");i.each(function(i,n){var s=t(n),o=s.data("woeid");e.citiesByRegionWoeid[o]||(e.citiesByRegionWoeid[o]=[]),e.citiesByRegionWoeid[o].push(s)})},this.updateDropdown=function(){var t=this.$regions.val(),e=this.citiesByRegionWoeid[t]||"";this.$cities.empty(),this.$cities.html(e)},this.updateRegion=function(){this.updateDropdown();var t=this.$cities.children().first();t.length&&(t.prop("selected",!0),t.change())},this.updateCity=function(){var t=this.$cities.find("option:selected"),e=parseInt(t.val(),10),i=t.data("name");this.currentSelection=e,this.changeLocationInfo({woeid:e,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null;var t=this.$regions.find('option[value=""]');t.prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1383),l=n(r);e.default=(0,a.default)(s,l.default)}).call(e,i(10))},1383:function(t,e){"use strict";function i(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(t,e){this.attr.personalized=!!e.personalized,this.attr.location=e.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(t){this.trigger("uiChangeLocation",{location:t})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1384:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(t,e){return e.item.woeid===-1?void this.trigger("uiTrendsLocationSearchNoResults"):(this.currentSelection=e.item,void this.changeLocationInfo({woeid:e.item.woeid,name:e.item.name}))},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(t,e){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),h.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),c.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1383),l=n(r),d=i(414),c=n(d),u=i(429),h=n(u);e.default=(0,a.default)(s,l.default)},1385:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1383),l=n(r);e.default=(0,a.default)(s,l.default)},1386:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1387),l=n(r);e.default=(0,a.default)(s,l.default)},1387:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){a.default.mixin(this,[l.default]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(e,i){e.preventDefault();var n=t(i.el),s={woeid:n.data("woeid"),name:n.data("name")};this.changeLocationInfo(s),this.showSelected(s.woeid,!1)},this.showSelected=function(t,e){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!e&&t&&i.filter('[data-woeid="'+t+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),a=n(o),r=i(1383),l=n(r);e.default=s}).call(e,i(10))},1388:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(t,e){var i=e.trendLocations;this.$list.empty(),i.forEach(function(t){var e=this.$template.clone(!1),i=e.find("button");i.text(t.name),i.attr("data-woeid",t.woeid),i.attr("data-name",t.name),this.$list.append(e)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1387),l=n(r);e.default=(0,a.default)(s,l.default)},1435:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var e=this,i=c.default.getGlobalNavHeight(),n=this.$node.find(this.attr.promotedTweetSelector),s=this.$node.find(this.attr.promotedTweetForImpressionsSelector),o=n.filter(function(n,s){return c.default.isContainedInViewport(e.$window,t(s),i,0)}),a=s.filter(function(n,s){return c.default.isPartiallyContainedInViewport({$container:e.$window,$element:t(s),topThreshold:i,fractionInViewport:0})});if(a.length){a.addClass("presented");var r=a.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:r})}if(o.length){o.addClass("scribed");var l=o.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:l})}},this.after("initialize",function(e,i){
this.$window=t(window),i&&i.inOverlay?this.on(e,"scroll resize",l.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",l.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(126),l=n(r),d=i(177),c=n(d);e.default=(0,a.default)(s)}).call(e,i(10))},1787:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({permalinkTweetSelector:".permalink-tweet"}),this.scribePermalinkImpression=function(){var t=this.select("permalinkTweetSelector"),e=this.getCardDataFromContainer(t);e.hasCard&&this.scribeCardInteraction("show",e)},this.after("initialize",function(){this.scribePermalinkImpression()})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(141),l=n(r),d=i(139),c=n(d);e.default=(0,a.default)(s,l.default,c.default)},1788:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t){l.default.attachTo(document),a.default.attachTo(".permalink-container")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1789),a=n(o),r=i(1790),l=n(r),d=t(".PermalinkProfile-overlay").length>0;e.default=d?s:t.noop}).call(e,i(10))},1789:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({permalinkCloseButtonSelector:".PermalinkProfile-dismiss",profileBackgroundCloseSelector:".PermalinkProfile-overlay"}),this.handlePermalinkCloseButton=function(t){this.trigger("uiTweetArrowDismiss"),this.$node.fadeOut()},this.handleOverlayClick=function(t){this.trigger("uiTweetArrowBackgroundDismiss"),this.$node.fadeOut()},this.after("initialize",function(){this.$node.show().css("opacity","1"),this.on(t(this.attr.profileBackgroundCloseSelector),"click",this.handleOverlayClick),this.on("click",{permalinkCloseButtonSelector:this.handlePermalinkCloseButton})})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o);e.default=(0,a.default)(s)}).call(e,i(10))},1790:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({dialogComponentName:"dialog"}),this.namespace=function(t,e,i){return{component:t,element:e,action:i}},this.after("initialize",function(){this.scribeOnEvent("uiTweetArrowDismiss",this.namespace(this.attr.dialogComponentName,"dismiss","dismiss")),this.scribeOnEvent("uiTweetArrowBackgroundDismiss",this.namespace(this.attr.dialogComponentName,"background","dismiss")),this.scribeOnEvent("uiPermalinkGalleryOpen",this.namespace(null,"gallery","open"))})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(142),l=n(r);e.default=(0,a.default)(s,l.default)},1791:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({moduleSelector:".ThreadedConversation",moreRepliesSelector:".ThreadedConversation-moreReplies",moreRepliesLinkSelector:".ThreadedConversation-moreRepliesLink",moreRepliesSpinnerSelector:".ThreadedConversation-moreRepliesSpinner",showMoreThreadsSelector:".ThreadedConversation-showMoreThreads",showMoreThreadsButtonSelector:".ThreadedConversation-showMoreThreadsButton, .ThreadedConversation-showMoreThreadsPrompt",showMoreThreadsSpinnerSelector:".ThreadedConversation-showMoreSpinner",tweetSelector:".tweet",threadedTweetSelector:".ThreadedConversation-tweet"}),this.showMoreThreads=function(e,i){var n=t(e.target),s=n.parents(this.attr.showMoreThreadsSelector);s.css("min-height",s.height()),n.hide(),n.parents(".Tombstone").hide(),s.find(this.attr.showMoreThreadsSpinnerSelector).removeClass("u-hidden");var o={low_quality:!0,max_position:t(e.target).data("cursor")};this.trigger("uiWantsMoreTimelineItems",o),this.trigger("scribe",{scribeEvent:{component:"tweet",element:"cursor",action:"click"},scribeData:{event_info:s.data("cursor-type-name")}}),this.on("dataGotMoreTimelineItems",function(){s.remove(),this.off("dataGotMoreTimelineItems")})},this.expandModule=function(e){e.preventDefault();var i=t(e.target),n=i.closest(this.attr.moduleSelector).find(this.attr.tweetSelector).toArray(),s={scribeContext:this.getScribeContext(i),tweets:n.map(this.tweetData,this)};this.trigger("uiShowMoreClicked",s);var o=i.closest(this.attr.moreRepliesSelector),a=o.data("expansion-url");i.addClass("u-hidden"),o.find(this.attr.moreRepliesSpinnerSelector).removeClass("u-hidden"),this.trigger(o,"uiNeedsThreadedConversationTweets",{url:a})},this.tweetData=function(e){return{id:t(e).data("tweetId"),position:this.select("tweetSelector").index(e)}},this.removeLastItemClasses=function(t,e){var i=t.find(this.attr.threadedTweetSelector).last();i.removeClass("last")},this.animateResult=function(t,e,i){var n=this,s=e.find(".stream-items");this.removeLastItemClasses(e,i),s.children().addClass("opaque"),e.addClass("animating");var o=function(){s.children().removeClass("opaque"),e.removeClass("animating"),n.trigger(s,"uiPermalinkThreadExpanded")},a=i.children();s.append(a);var r=Math.max(this.getCombinedHeight(a)-t,0),l=a.first();l.css({marginTop:-r});var d=this.animationTime(r);l.animate({marginTop:0},{duration:d,queue:!1,complete:o})},this.expansionResult=function(e,i){var n=t(e.target),s=n.closest(this.attr.moduleSelector),o=this.getCombinedHeight(n);n.remove();var a=t(i.conversation_html).find(".stream-items");a.children().length&&this.animateResult(o,s,a),t(document).trigger("loadImages")},this.getCombinedHeight=function(e){return e.toArray().reduce(function(e,i){return e+t(i).outerHeight()},0)},this.animationTime=function(t){var e=2*Math.round(.35*Math.log(t)*h);return(0,l.default)(e)},this.expansionFailure=function(e){var i=t(e.target);i.find(this.attr.moreRepliesSpinnerSelector).addClass("u-hidden"),i.find(this.attr.moreRepliesLinkSelector).removeClass("u-hidden"),this.trigger("uiShowMessage",{message:"Whoops! Something went wrong. Please try again!"})},this.after("initialize",function(){this.attr.isThreaded&&(this.on("click",{moreRepliesLinkSelector:this.expandModule,showMoreThreadsButtonSelector:this.showMoreThreads}),this.on("dataThreadedConversationResult",this.expansionResult),this.on("dataThreadedConversationError",this.expansionFailure))})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(1183),l=n(r),d=i(138),c=n(d),u=i(123);n(u);e.default=(0,a.default)(s,c.default);var h=105}).call(e,i(10))},1792:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.scribeViewOtherClick=function(t,e){this.scribe("click",e,this.tweetScribeItems([e.tweet]))},this.scribeShowMoreClick=function(t,e){this.scribe("click",e,this.tweetScribeItems(e.tweets))},this.tweetScribeItems=function(t){return{items:t.map(function(t){return{id:t.id,position:t.position,item_type:l.default.tweet}})}},this.after("initialize",function(){this.on("uiViewOtherClicked",this.scribeViewOtherClick),this.on("uiShowMoreClicked",this.scribeShowMoreClick)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(144),l=n(r),d=i(142),c=n(d);e.default=(0,a.default)(s,c.default)},1793:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(){this.defaultAttrs({statsName:"threaded_conversation_expansion"}),this.requestTweets=function(t,e){if(e.url){var i=function(e){this.trigger(t.target,"dataThreadedConversationResult",e)},n=function(e,i,n){this.trigger(t.target,"dataThreadedConversationError",{status:i,errorThrown:n})};this.get({url:e.url,eventData:e,success:i.bind(this),error:n.bind(this)})}},this.after("initialize",function(){this.on("uiNeedsThreadedConversationTweets",this.requestTweets)})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(111),a=n(o),r=i(244),l=n(r),d=(0,a.default)(s,l.default);e.default=d},1794:function(t,e){"use strict";function i(){this.defaultAttrs({inOverlay:!1}),this.modifyItemsData=function(t){var e=t?t():{};return n({},e,{headers:{"X-Overlay-Request":!0,"X-Previous-Page-Name":this.attr.pageName}})},this.after("initialize",function(){this.attr.inOverlay&&(this.around("getNewItemsData",this.modifyItemsData),this.around("getOldItemsData",this.modifyItemsData))})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=i}});
//# sourceMappingURL=14.pages_permalink.en.ece8d84d69d801710869.js.map